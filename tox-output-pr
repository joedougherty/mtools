py36 installed: coverage==5.5,cycler==0.10.0,kiwisolver==1.3.1,matplotlib==3.3.4,nose==1.3.7,numpy==1.19.5,ordereddict==1.1,Pillow==8.2.0,psutil==5.6.7,pymongo==3.11.3,pyparsing==2.4.7,python-dateutil==2.8.1,six==1.15.0
py36 run-test-pre: PYTHONHASHSEED='3053065810'
py36 run-test: commands[0] | nosetests --detailed-errors --verbose --with-coverage --cover-package=mtools
Check that all command line tools have a --help option that explains the ... ok
Check that all command line tools have a --version option that returns ... usage: nosetests init [-h] (--single | --replicaset) [--nodes NUM] [--arbiter]
                      [--name NAME] [--priority] [--sharded N [N ...]]
                      [--config NUM] [--csrs] [--mongos NUM] [--verbose]
                      [--port PORT] [--binarypath PATH] [--dir DIR]
                      [--hostname HOSTNAME] [--auth] [--username USERNAME]
                      [--password PASSWORD] [--auth-db DB]
                      [--auth-roles [ROLE [ROLE ...]]] [--auth-role-docs]
                      [--no-initial-user] [--tlsCAFile TLSCAFILE]
                      [--tlsCRLFile TLSCRLFILE] [--tlsAllowInvalidHostnames]
                      [--tlsAllowInvalidCertificates]
                      [--tlsMode {disabled,allowTLS,preferTLS,requireTLS}]
                      [--tlsCertificateKeyFile TLSCERTIFICATEKEYFILE]
                      [--tlsCertificateKeyFilePassword TLSCERTIFICATEKEYFILEPASSWORD]
                      [--tlsClusterFile TLSCLUSTERFILE]
                      [--tlsClusterPassword TLSCLUSTERPASSWORD]
                      [--tlsDisabledProtocols TLSDISABLEDPROTOCOLS]
                      [--tlsAllowConnectionsWithoutCertificates]
                      [--tlsFIPSMode]
                      [--tlsClientCertificate TLSCLIENTCERTIFICATE]
                      [--tlsClientCertificateKeyFile TLSCLIENTCERTIFICATEKEYFILE]
                      [--tlsClientCertificateKeyFilePassword TLSCLIENTCERTIFICATEKEYFILEPASSWORD]
nosetests init: error: one of the arguments --single --replicaset is required
ok
Import all tools from mtools module. ... ok
Failure: SkipTest () ... SKIP
mlaunch should create csrs by default -- 2 node replicaset shards + ... ok
mlaunch should create csrs by default -- 7 node replicaset ... ok
mlaunch should create csrs by default -- 7 node replicaset shards, ... ok
mlaunch should create csrs by default -- replicaset shards (3.4). ... ok
mlaunch should create csrs by default -- single node shards (3.4). ... ok
mlaunch should not start if hostname is specified but not bind_ip. ... ok
mlaunch should start 3 nodes replicaset. ... ok
mlaunch should start 6 nodes + 1 arbiter replicaset. ... ok
mlaunch should start 7 nodes replicaset. ... ok
mlaunch should not pass --oplogSize to config server (CSRS). ... ok
mlaunch should not pass --oplogSize to config server (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 2 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 3 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 4 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should not change config server storage engine (CSRS). ... ok
mlaunch should start 1 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 3 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 3 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 config, 2 single shards 1 mongos. ... ok
mlaunch should start 3 mongos (CSRS). ... ok
mlaunch should start 3 mongos (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 2 mongos (CSRS). ... ok
mlaunch should start 2 mongos (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 node. ... ok
mlaunch should start 1 node with specified storage. ... ok
mlaunch should not pass storageEngine option to config server (3.4). ... ok
test_D_levels ... ok
test_E_levels ... ok
test_F_levels ... ok
test_I_levels ... ok
test_U_levels ... ok
test_W_levels ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_accept_nodate ... ok
test_access_component ... ok
test_all_component ... ok
test_all_levels ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_command ... ok
test_commands_component ... ok
Test that mlogfilter works components on older logs. ... ok
test_dash_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_end_reached ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_exclude ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_iso8601_timestamp ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to_26_log ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to_stdin ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_human ... ok
test_indexing_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_component ... usage: nosetests [-h] [--version] [--no-progressbar] [--verbose]
                 [--shorten [LENGTH]] [--exclude] [--human] [--json]
                 [--markers [MARKERS [MARKERS ...]]] [--timezone [N [N ...]]]
                 [--timestamp-format {none,ctime-pre2.4,ctime,iso8601-utc,iso8601-local}]
                 [--from [FROM [FROM ...]]] [--to [TO [TO ...]]]
                 [--fast [FAST]] [--component [CM [CM ...]]]
                 [--level [LL [LL ...]]] [--namespace [NS [NS ...]]]
                 [--operation [OP [OP ...]]] [--thread [THREAD [THREAD ...]]]
                 [--pattern PATTERN] [--command [COMMAND [COMMAND ...]]]
                 [--planSummary [PS [PS ...]]] [--mask MASK]
                 [--mask-size MASK_SIZE] [--mask-center {start,end,both}]
                 [--slow [SLOW]] [--scan] [--transactions]
                 [--word [WORD [WORD ...]]]
                 [logfile [logfile ...]]
nosetests: error: argument --component: invalid choice: 'FAKE' (choose from '-', 'ACCESS', 'COMMAND', 'CONTROL', 'GEO', 'INDEX', 'NETWORK', 'QUERY', 'REPL', 'SHARDING', 'STORAGE', 'JOURNAL', 'WRITE', 'TOTAL')
ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_level ... usage: nosetests [-h] [--version] [--no-progressbar] [--verbose]
                 [--shorten [LENGTH]] [--exclude] [--human] [--json]
                 [--markers [MARKERS [MARKERS ...]]] [--timezone [N [N ...]]]
                 [--timestamp-format {none,ctime-pre2.4,ctime,iso8601-utc,iso8601-local}]
                 [--from [FROM [FROM ...]]] [--to [TO [TO ...]]]
                 [--fast [FAST]] [--component [CM [CM ...]]]
                 [--level [LL [LL ...]]] [--namespace [NS [NS ...]]]
                 [--operation [OP [OP ...]]] [--thread [THREAD [THREAD ...]]]
                 [--pattern PATTERN] [--command [COMMAND [COMMAND ...]]]
                 [--planSummary [PS [PS ...]]] [--mask MASK]
                 [--mask-size MASK_SIZE] [--mask-center {start,end,both}]
                 [--slow [SLOW]] [--scan] [--transactions]
                 [--word [WORD [WORD ...]]]
                 [logfile [logfile ...]]
nosetests: error: argument --level: invalid choice: 'C' (choose from 'D', 'F', 'E', 'W', 'I', 'U')
ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_log ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_timezone_args ... ok
test_journal_component ... ok
Output with --json is in JSON format. ... ok
Test that mlogfilter works levels on older logs. ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_both ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_end ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_start ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_invalid_markers ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_markers ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_same ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_msToString ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_multiple_operations ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_namespace ... ok
test_network_component ... ok
Test that not providing at least 1 log file throws clean error. ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_no_timestamp_format ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_operation ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_pattern ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_planSummary ... ok
test_query_component ... ok
test_replsets_component ... ok
test_s2_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_scan ... ok
test_sharding_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_shorten_50 ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_shorten_default ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_slow_fast ... ok
test_storage_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_conn1 ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_mongos ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_mongos_conn1 ... ok
test_total_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_verbose ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_word ... ok
test_writes_component ... ok
Test that mlogfilter works correctly with year-rollovers in logfiles ... ok
Test that mlogfilter works correctly with year-rollovers in logfiles ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_28 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_28_no_restart ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_30_ctime ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_30_ctime_queries ...                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_avoid_dict_sorting ...                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_basic ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connections_connstats_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connections_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_connid_not_digit ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_connid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_end_connid_not_digit ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_endconnid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_only_connection_accepted ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_only_connection_end ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_start_endconnid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_corrupt ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_cursors_output ...  [========================================] 101.1 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_distinct_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_multiple_files ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_queries_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_restarts_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsinfo ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_225 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_26 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_mongos ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_mongos_2 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_migration_from_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_migration_to_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_split_statistics_exist ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_error_messages_exists ...  [============================================] 108.9 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_jumbo_chunk_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_missing_information ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_csrs ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_mongos ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_shard ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_storagestats_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_transactions_output ...  [                                        ] 0.0 %  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_version_norestart ... ok
mtools.test.test_mplotqueries.TestMPlotQueries.test_checkpoints ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_dns ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_oplog ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_storagestats ... SKIP: Skipping interactive test
mtools.test.test_util_hci.test_dtb_within_boundaries_absolute ... ok
mtools.test.test_util_hci.test_dtb_from_before_start ... ok
mtools.test.test_util_hci.test_dtb_to_after_end ... ok
mtools.test.test_util_hci.test_dtb_both_outside_bounds ... ok
mtools.test.test_util_hci.test_dtb_keywords ... ok
mtools.test.test_util_hci.test_dtb_string2dt ... ok
mtools.test.test_util_log2code.test_log2code ... ok
Check that all four timestamp formats are correctly parsed. ... ok
mtools.test.test_util_logevent.test_logevent_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_actual_query_parsing ... ok
mtools.test.test_util_logevent.test_logevent_command_parsing ... ok
mtools.test.test_util_logevent.test_logevent_sort_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_actual_sort_parsing ... ok
mtools.test.test_util_logevent.test_logevent_profile_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_profile_sort_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_extract_new_and_old_numYields ... ok
mtools.test.test_util_logevent.test_logevent_parse_truncated_line ... ok
mtools.test.test_util_logevent.test_logevent_extract_planSummary ... ok
mtools.test.test_util_logevent.test_logevent_extract_actualPlanSummary ... ok
Check for correct value extraction of all fields. ... ok
Check that LogEvent correctly ignores non log lines ... ok
Check that LogEvent correctly ignores new oplog query for duration extraction ... ok
Check that all LogEvent variables are evaluated lazily. ... ok
mtools.test.test_util_logfile.TestUtilLogFile.test_hostname_port ... ok
LogFile: test len() and iteration over LogFile method. ... ok
LogFile: test datetime_format and year_rollover properties. ... ok
LogFile: test if replication info is detected (MongoDB 3.2+) ... ok
LogFile: test if shard chunk migration (from) is detected (MongoDB 3.6+) ... ok
LogFile: test if shard chunk migration (to) is detected (MongoDB 3.6+) ... ok
LogFile: test if sharded cluster CSRS is detected (MongoDB 3.6+) ... ok
LogFile: test if sharding info is detected (MongoDB 3.6+) ... ok
LogFile: test .start and .end property work correctly. ... ok
LogFile: test if the correct storage engine is detected. ... ok
mtools.test.test_util_logfile.TestUtilLogFile.test_timezone ... ok
Test stub. ... ok

Name                                               Stmts   Miss  Cover
----------------------------------------------------------------------
mtools/__init__.py                                     3      0   100%
mtools/mlaunch/__init__.py                             0      0   100%
mtools/mlaunch/mlaunch.py                           1101    621    44%
mtools/mlogfilter/__init__.py                          0      0   100%
mtools/mlogfilter/filters/__init__.py                  8      0   100%
mtools/mlogfilter/filters/base_filter.py              11      1    91%
mtools/mlogfilter/filters/datetime_filter.py          55      1    98%
mtools/mlogfilter/filters/fast_filter.py              14      1    93%
mtools/mlogfilter/filters/logline_filter.py           62      1    98%
mtools/mlogfilter/filters/mask_filter.py              68      4    94%
mtools/mlogfilter/filters/slow_filter.py              14      0   100%
mtools/mlogfilter/filters/tablescan_filter.py         15      0   100%
mtools/mlogfilter/filters/transaction_filter.py       14      5    64%
mtools/mlogfilter/filters/word_filter.py              15      0   100%
mtools/mlogfilter/mlogfilter.py                      178     19    89%
mtools/mloginfo/__init__.py                            0      0   100%
mtools/mloginfo/mloginfo.py                           63      9    86%
mtools/mloginfo/sections/__init__.py                  11      0   100%
mtools/mloginfo/sections/base_section.py               8      1    88%
mtools/mloginfo/sections/clients_section.py           48     33    31%
mtools/mloginfo/sections/connection_section.py       120      7    94%
mtools/mloginfo/sections/cursors_section.py           50      4    92%
mtools/mloginfo/sections/distinct_section.py          57      9    84%
mtools/mloginfo/sections/query_section.py             74      7    91%
mtools/mloginfo/sections/restart_section.py           21      5    76%
mtools/mloginfo/sections/rs_info_section.py           16      0   100%
mtools/mloginfo/sections/rs_state_section.py          23      0   100%
mtools/mloginfo/sections/sharding_section.py         200     33    84%
mtools/mloginfo/sections/storagestats_section.py      53      3    94%
mtools/mloginfo/sections/transactions_section.py      58      5    91%
mtools/mplotqueries/__init__.py                        0      0   100%
mtools/mplotqueries/mplotqueries.py                  412    337    18%
mtools/mplotqueries/plottypes/__init__.py              6      0   100%
mtools/mplotqueries/plottypes/base_type.py            74     50    32%
mtools/mplotqueries/plottypes/connchurn_type.py       85     67    21%
mtools/mplotqueries/plottypes/event_type.py           44     30    32%
mtools/mplotqueries/plottypes/histogram_type.py       85     67    21%
mtools/mplotqueries/plottypes/range_type.py           56     41    27%
mtools/mplotqueries/plottypes/scatter_type.py        132     95    28%
mtools/mtransfer/__init__.py                           0      0   100%
mtools/util/__init__.py                                5      2    60%
mtools/util/cmdlinetool.py                            99     36    64%
mtools/util/grouping.py                               79     44    44%
mtools/util/hci.py                                   110     16    85%
mtools/util/input_source.py                            6      2    67%
mtools/util/log2code.py                               74     39    47%
mtools/util/logcodeline.py                            16     11    31%
mtools/util/logevent.py                              672    119    82%
mtools/util/logfile.py                               483     51    89%
mtools/util/pattern.py                                87     36    59%
mtools/util/print_table.py                            24      4    83%
mtools/util/profile_collection.py                     79     60    24%
mtools/version.py                                      2      0   100%
----------------------------------------------------------------------
TOTAL                                               4990   1876    62%
----------------------------------------------------------------------
Ran 174 tests in 91.388s

OK (SKIP=12)
py37 installed: coverage==5.5,cycler==0.10.0,kiwisolver==1.3.1,matplotlib==3.4.1,nose==1.3.7,numpy==1.20.2,ordereddict==1.1,Pillow==8.2.0,psutil==5.6.7,pymongo==3.11.3,pyparsing==2.4.7,python-dateutil==2.8.1,six==1.15.0
py37 run-test-pre: PYTHONHASHSEED='3053065810'
py37 run-test: commands[0] | nosetests --detailed-errors --verbose --with-coverage --cover-package=mtools
Check that all command line tools have a --help option that explains the ... ok
Check that all command line tools have a --version option that returns ... usage: nosetests init [-h] (--single | --replicaset) [--nodes NUM] [--arbiter]
                      [--name NAME] [--priority] [--sharded N [N ...]]
                      [--config NUM] [--csrs] [--mongos NUM] [--verbose]
                      [--port PORT] [--binarypath PATH] [--dir DIR]
                      [--hostname HOSTNAME] [--auth] [--username USERNAME]
                      [--password PASSWORD] [--auth-db DB]
                      [--auth-roles [ROLE [ROLE ...]]] [--auth-role-docs]
                      [--no-initial-user] [--tlsCAFile TLSCAFILE]
                      [--tlsCRLFile TLSCRLFILE] [--tlsAllowInvalidHostnames]
                      [--tlsAllowInvalidCertificates]
                      [--tlsMode {disabled,allowTLS,preferTLS,requireTLS}]
                      [--tlsCertificateKeyFile TLSCERTIFICATEKEYFILE]
                      [--tlsCertificateKeyFilePassword TLSCERTIFICATEKEYFILEPASSWORD]
                      [--tlsClusterFile TLSCLUSTERFILE]
                      [--tlsClusterPassword TLSCLUSTERPASSWORD]
                      [--tlsDisabledProtocols TLSDISABLEDPROTOCOLS]
                      [--tlsAllowConnectionsWithoutCertificates]
                      [--tlsFIPSMode]
                      [--tlsClientCertificate TLSCLIENTCERTIFICATE]
                      [--tlsClientCertificateKeyFile TLSCLIENTCERTIFICATEKEYFILE]
                      [--tlsClientCertificateKeyFilePassword TLSCLIENTCERTIFICATEKEYFILEPASSWORD]
nosetests init: error: one of the arguments --single --replicaset is required
ok
Import all tools from mtools module. ... ok
Failure: SkipTest () ... SKIP
mlaunch should create csrs by default -- 2 node replicaset shards + ... ok
mlaunch should create csrs by default -- 7 node replicaset ... ok
mlaunch should create csrs by default -- 7 node replicaset shards, ... ok
mlaunch should create csrs by default -- replicaset shards (3.4). ... ok
mlaunch should create csrs by default -- single node shards (3.4). ... ok
mlaunch should not start if hostname is specified but not bind_ip. ... ok
mlaunch should start 3 nodes replicaset. ... ok
mlaunch should start 6 nodes + 1 arbiter replicaset. ... ok
mlaunch should start 7 nodes replicaset. ... ok
mlaunch should not pass --oplogSize to config server (CSRS). ... ok
mlaunch should not pass --oplogSize to config server (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 2 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 3 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 4 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should not change config server storage engine (CSRS). ... ok
mlaunch should start 1 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 3 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 3 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 config, 2 single shards 1 mongos. ... ok
mlaunch should start 3 mongos (CSRS). ... ok
mlaunch should start 3 mongos (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 2 mongos (CSRS). ... ok
mlaunch should start 2 mongos (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 node. ... ok
mlaunch should start 1 node with specified storage. ... ok
mlaunch should not pass storageEngine option to config server (3.4). ... ok
test_D_levels ... ok
test_E_levels ... ok
test_F_levels ... ok
test_I_levels ... ok
test_U_levels ... ok
test_W_levels ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_accept_nodate ... ok
test_access_component ... ok
test_all_component ... ok
test_all_levels ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_command ... ok
test_commands_component ... ok
Test that mlogfilter works components on older logs. ... ok
test_dash_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_end_reached ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_exclude ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_iso8601_timestamp ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to_26_log ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to_stdin ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_human ... ok
test_indexing_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_component ... usage: nosetests [-h] [--version] [--no-progressbar] [--verbose]
                 [--shorten [LENGTH]] [--exclude] [--human] [--json]
                 [--markers [MARKERS [MARKERS ...]]] [--timezone [N [N ...]]]
                 [--timestamp-format {none,ctime-pre2.4,ctime,iso8601-utc,iso8601-local}]
                 [--from [FROM [FROM ...]]] [--to [TO [TO ...]]]
                 [--fast [FAST]] [--component [CM [CM ...]]]
                 [--level [LL [LL ...]]] [--namespace [NS [NS ...]]]
                 [--operation [OP [OP ...]]] [--thread [THREAD [THREAD ...]]]
                 [--pattern PATTERN] [--command [COMMAND [COMMAND ...]]]
                 [--planSummary [PS [PS ...]]] [--mask MASK]
                 [--mask-size MASK_SIZE] [--mask-center {start,end,both}]
                 [--slow [SLOW]] [--scan] [--transactions]
                 [--word [WORD [WORD ...]]]
                 [logfile [logfile ...]]
nosetests: error: argument --component: invalid choice: 'FAKE' (choose from '-', 'ACCESS', 'COMMAND', 'CONTROL', 'GEO', 'INDEX', 'NETWORK', 'QUERY', 'REPL', 'SHARDING', 'STORAGE', 'JOURNAL', 'WRITE', 'TOTAL')
ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_level ... usage: nosetests [-h] [--version] [--no-progressbar] [--verbose]
                 [--shorten [LENGTH]] [--exclude] [--human] [--json]
                 [--markers [MARKERS [MARKERS ...]]] [--timezone [N [N ...]]]
                 [--timestamp-format {none,ctime-pre2.4,ctime,iso8601-utc,iso8601-local}]
                 [--from [FROM [FROM ...]]] [--to [TO [TO ...]]]
                 [--fast [FAST]] [--component [CM [CM ...]]]
                 [--level [LL [LL ...]]] [--namespace [NS [NS ...]]]
                 [--operation [OP [OP ...]]] [--thread [THREAD [THREAD ...]]]
                 [--pattern PATTERN] [--command [COMMAND [COMMAND ...]]]
                 [--planSummary [PS [PS ...]]] [--mask MASK]
                 [--mask-size MASK_SIZE] [--mask-center {start,end,both}]
                 [--slow [SLOW]] [--scan] [--transactions]
                 [--word [WORD [WORD ...]]]
                 [logfile [logfile ...]]
nosetests: error: argument --level: invalid choice: 'C' (choose from 'D', 'F', 'E', 'W', 'I', 'U')
ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_log ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_timezone_args ... ok
test_journal_component ... ok
Output with --json is in JSON format. ... ok
Test that mlogfilter works levels on older logs. ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_both ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_end ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_start ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_invalid_markers ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_markers ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_same ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_msToString ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_multiple_operations ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_namespace ... ok
test_network_component ... ok
Test that not providing at least 1 log file throws clean error. ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_no_timestamp_format ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_operation ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_pattern ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_planSummary ... ok
test_query_component ... ok
test_replsets_component ... ok
test_s2_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_scan ... ok
test_sharding_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_shorten_50 ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_shorten_default ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_slow_fast ... ok
test_storage_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_conn1 ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_mongos ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_mongos_conn1 ... ok
test_total_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_verbose ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_word ... ok
test_writes_component ... ok
Test that mlogfilter works correctly with year-rollovers in logfiles ... ok
Test that mlogfilter works correctly with year-rollovers in logfiles ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_28 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_28_no_restart ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_30_ctime ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_30_ctime_queries ...                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_avoid_dict_sorting ...                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_basic ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connections_connstats_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connections_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_connid_not_digit ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_connid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_end_connid_not_digit ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_endconnid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_only_connection_accepted ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_only_connection_end ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_start_endconnid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_corrupt ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_cursors_output ...  [========================================] 101.1 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_distinct_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_multiple_files ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_queries_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_restarts_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsinfo ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_225 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_26 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_mongos ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_mongos_2 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_migration_from_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_migration_to_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_split_statistics_exist ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_error_messages_exists ...  [============================================] 108.9 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_jumbo_chunk_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_missing_information ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_csrs ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_mongos ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_shard ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_storagestats_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_transactions_output ...  [                                        ] 0.0 %  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_version_norestart ... ok
mtools.test.test_mplotqueries.TestMPlotQueries.test_checkpoints ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_dns ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_oplog ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_storagestats ... SKIP: Skipping interactive test
mtools.test.test_util_hci.test_dtb_within_boundaries_absolute ... ok
mtools.test.test_util_hci.test_dtb_from_before_start ... ok
mtools.test.test_util_hci.test_dtb_to_after_end ... ok
mtools.test.test_util_hci.test_dtb_both_outside_bounds ... ok
mtools.test.test_util_hci.test_dtb_keywords ... ok
mtools.test.test_util_hci.test_dtb_string2dt ... ok
mtools.test.test_util_log2code.test_log2code ... ok
Check that all four timestamp formats are correctly parsed. ... ok
mtools.test.test_util_logevent.test_logevent_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_actual_query_parsing ... ok
mtools.test.test_util_logevent.test_logevent_command_parsing ... ok
mtools.test.test_util_logevent.test_logevent_sort_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_actual_sort_parsing ... ok
mtools.test.test_util_logevent.test_logevent_profile_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_profile_sort_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_extract_new_and_old_numYields ... ok
mtools.test.test_util_logevent.test_logevent_parse_truncated_line ... ok
mtools.test.test_util_logevent.test_logevent_extract_planSummary ... ok
mtools.test.test_util_logevent.test_logevent_extract_actualPlanSummary ... ok
Check for correct value extraction of all fields. ... ok
Check that LogEvent correctly ignores non log lines ... ok
Check that LogEvent correctly ignores new oplog query for duration extraction ... ok
Check that all LogEvent variables are evaluated lazily. ... ok
mtools.test.test_util_logfile.TestUtilLogFile.test_hostname_port ... ok
LogFile: test len() and iteration over LogFile method. ... ok
LogFile: test datetime_format and year_rollover properties. ... ok
LogFile: test if replication info is detected (MongoDB 3.2+) ... ok
LogFile: test if shard chunk migration (from) is detected (MongoDB 3.6+) ... ok
LogFile: test if shard chunk migration (to) is detected (MongoDB 3.6+) ... ok
LogFile: test if sharded cluster CSRS is detected (MongoDB 3.6+) ... ok
LogFile: test if sharding info is detected (MongoDB 3.6+) ... ok
LogFile: test .start and .end property work correctly. ... ok
LogFile: test if the correct storage engine is detected. ... ok
mtools.test.test_util_logfile.TestUtilLogFile.test_timezone ... ok
Test stub. ... ok

Name                                               Stmts   Miss  Cover
----------------------------------------------------------------------
mtools/__init__.py                                     3      0   100%
mtools/mlaunch/__init__.py                             0      0   100%
mtools/mlaunch/mlaunch.py                           1101    621    44%
mtools/mlogfilter/__init__.py                          0      0   100%
mtools/mlogfilter/filters/__init__.py                  8      0   100%
mtools/mlogfilter/filters/base_filter.py              11      1    91%
mtools/mlogfilter/filters/datetime_filter.py          55      1    98%
mtools/mlogfilter/filters/fast_filter.py              14      1    93%
mtools/mlogfilter/filters/logline_filter.py           62      1    98%
mtools/mlogfilter/filters/mask_filter.py              68      4    94%
mtools/mlogfilter/filters/slow_filter.py              14      0   100%
mtools/mlogfilter/filters/tablescan_filter.py         15      0   100%
mtools/mlogfilter/filters/transaction_filter.py       14      5    64%
mtools/mlogfilter/filters/word_filter.py              15      0   100%
mtools/mlogfilter/mlogfilter.py                      178     19    89%
mtools/mloginfo/__init__.py                            0      0   100%
mtools/mloginfo/mloginfo.py                           63      9    86%
mtools/mloginfo/sections/__init__.py                  11      0   100%
mtools/mloginfo/sections/base_section.py               8      1    88%
mtools/mloginfo/sections/clients_section.py           48     33    31%
mtools/mloginfo/sections/connection_section.py       120      7    94%
mtools/mloginfo/sections/cursors_section.py           50      4    92%
mtools/mloginfo/sections/distinct_section.py          57      9    84%
mtools/mloginfo/sections/query_section.py             74      7    91%
mtools/mloginfo/sections/restart_section.py           21      5    76%
mtools/mloginfo/sections/rs_info_section.py           16      0   100%
mtools/mloginfo/sections/rs_state_section.py          23      0   100%
mtools/mloginfo/sections/sharding_section.py         200     33    84%
mtools/mloginfo/sections/storagestats_section.py      53      3    94%
mtools/mloginfo/sections/transactions_section.py      58      5    91%
mtools/mplotqueries/__init__.py                        0      0   100%
mtools/mplotqueries/mplotqueries.py                  412    337    18%
mtools/mplotqueries/plottypes/__init__.py              6      0   100%
mtools/mplotqueries/plottypes/base_type.py            74     50    32%
mtools/mplotqueries/plottypes/connchurn_type.py       85     67    21%
mtools/mplotqueries/plottypes/event_type.py           44     30    32%
mtools/mplotqueries/plottypes/histogram_type.py       85     67    21%
mtools/mplotqueries/plottypes/range_type.py           56     41    27%
mtools/mplotqueries/plottypes/scatter_type.py        132     95    28%
mtools/mtransfer/__init__.py                           0      0   100%
mtools/util/__init__.py                                5      2    60%
mtools/util/cmdlinetool.py                            99     36    64%
mtools/util/grouping.py                               79     44    44%
mtools/util/hci.py                                   110     16    85%
mtools/util/input_source.py                            6      2    67%
mtools/util/log2code.py                               74     39    47%
mtools/util/logcodeline.py                            16     11    31%
mtools/util/logevent.py                              672    119    82%
mtools/util/logfile.py                               483     51    89%
mtools/util/pattern.py                                87     36    59%
mtools/util/print_table.py                            24      4    83%
mtools/util/profile_collection.py                     79     60    24%
mtools/version.py                                      2      0   100%
----------------------------------------------------------------------
TOTAL                                               4990   1876    62%
----------------------------------------------------------------------
Ran 174 tests in 91.484s

OK (SKIP=12)
py38 installed: coverage==5.5,cycler==0.10.0,kiwisolver==1.3.1,matplotlib==3.4.1,nose==1.3.7,numpy==1.20.2,ordereddict==1.1,Pillow==8.2.0,psutil==5.6.7,pymongo==3.11.3,pyparsing==2.4.7,python-dateutil==2.8.1,six==1.15.0
py38 run-test-pre: PYTHONHASHSEED='3053065810'
py38 run-test: commands[0] | nosetests --detailed-errors --verbose --with-coverage --cover-package=mtools
Check that all command line tools have a --help option that explains the ... ok
Check that all command line tools have a --version option that returns ... usage: nosetests init [-h] (--single | --replicaset) [--nodes NUM] [--arbiter]
                      [--name NAME] [--priority] [--sharded N [N ...]]
                      [--config NUM] [--csrs] [--mongos NUM] [--verbose]
                      [--port PORT] [--binarypath PATH] [--dir DIR]
                      [--hostname HOSTNAME] [--auth] [--username USERNAME]
                      [--password PASSWORD] [--auth-db DB]
                      [--auth-roles [ROLE [ROLE ...]]] [--auth-role-docs]
                      [--no-initial-user] [--tlsCAFile TLSCAFILE]
                      [--tlsCRLFile TLSCRLFILE] [--tlsAllowInvalidHostnames]
                      [--tlsAllowInvalidCertificates]
                      [--tlsMode {disabled,allowTLS,preferTLS,requireTLS}]
                      [--tlsCertificateKeyFile TLSCERTIFICATEKEYFILE]
                      [--tlsCertificateKeyFilePassword TLSCERTIFICATEKEYFILEPASSWORD]
                      [--tlsClusterFile TLSCLUSTERFILE]
                      [--tlsClusterPassword TLSCLUSTERPASSWORD]
                      [--tlsDisabledProtocols TLSDISABLEDPROTOCOLS]
                      [--tlsAllowConnectionsWithoutCertificates]
                      [--tlsFIPSMode]
                      [--tlsClientCertificate TLSCLIENTCERTIFICATE]
                      [--tlsClientCertificateKeyFile TLSCLIENTCERTIFICATEKEYFILE]
                      [--tlsClientCertificateKeyFilePassword TLSCLIENTCERTIFICATEKEYFILEPASSWORD]
nosetests init: error: one of the arguments --single --replicaset is required
ok
Import all tools from mtools module. ... ok
Failure: SkipTest () ... SKIP
mlaunch should create csrs by default -- 2 node replicaset shards + ... ok
mlaunch should create csrs by default -- 7 node replicaset ... ok
mlaunch should create csrs by default -- 7 node replicaset shards, ... ok
mlaunch should create csrs by default -- replicaset shards (3.4). ... ok
mlaunch should create csrs by default -- single node shards (3.4). ... ok
mlaunch should not start if hostname is specified but not bind_ip. ... ok
mlaunch should start 3 nodes replicaset. ... ok
mlaunch should start 6 nodes + 1 arbiter replicaset. ... ok
mlaunch should start 7 nodes replicaset. ... ok
mlaunch should not pass --oplogSize to config server (CSRS). ... ok
mlaunch should not pass --oplogSize to config server (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 2 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 3 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 4 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should not change config server storage engine (CSRS). ... ok
mlaunch should start 1 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 3 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 3 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 config, 2 single shards 1 mongos. ... ok
mlaunch should start 3 mongos (CSRS). ... ok
mlaunch should start 3 mongos (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 2 mongos (CSRS). ... ok
mlaunch should start 2 mongos (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 node. ... ok
mlaunch should start 1 node with specified storage. ... ok
mlaunch should not pass storageEngine option to config server (3.4). ... ok
test_D_levels ... ok
test_E_levels ... ok
test_F_levels ... ok
test_I_levels ... ok
test_U_levels ... ok
test_W_levels ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_accept_nodate ... ok
test_access_component ... ok
test_all_component ... ok
test_all_levels ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_command ... ok
test_commands_component ... ok
Test that mlogfilter works components on older logs. ... ok
test_dash_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_end_reached ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_exclude ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_iso8601_timestamp ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to_26_log ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to_stdin ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_human ... ok
test_indexing_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_component ... usage: nosetests [-h] [--version] [--no-progressbar] [--verbose]
                 [--shorten [LENGTH]] [--exclude] [--human] [--json]
                 [--markers [MARKERS [MARKERS ...]]] [--timezone [N [N ...]]]
                 [--timestamp-format {none,ctime-pre2.4,ctime,iso8601-utc,iso8601-local}]
                 [--from [FROM [FROM ...]]] [--to [TO [TO ...]]]
                 [--fast [FAST]] [--component [CM [CM ...]]]
                 [--level [LL [LL ...]]] [--namespace [NS [NS ...]]]
                 [--operation [OP [OP ...]]] [--thread [THREAD [THREAD ...]]]
                 [--pattern PATTERN] [--command [COMMAND [COMMAND ...]]]
                 [--planSummary [PS [PS ...]]] [--mask MASK]
                 [--mask-size MASK_SIZE] [--mask-center {start,end,both}]
                 [--slow [SLOW]] [--scan] [--transactions]
                 [--word [WORD [WORD ...]]]
                 [logfile [logfile ...]]
nosetests: error: argument --component: invalid choice: 'FAKE' (choose from '-', 'ACCESS', 'COMMAND', 'CONTROL', 'GEO', 'INDEX', 'NETWORK', 'QUERY', 'REPL', 'SHARDING', 'STORAGE', 'JOURNAL', 'WRITE', 'TOTAL')
ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_level ... usage: nosetests [-h] [--version] [--no-progressbar] [--verbose]
                 [--shorten [LENGTH]] [--exclude] [--human] [--json]
                 [--markers [MARKERS [MARKERS ...]]] [--timezone [N [N ...]]]
                 [--timestamp-format {none,ctime-pre2.4,ctime,iso8601-utc,iso8601-local}]
                 [--from [FROM [FROM ...]]] [--to [TO [TO ...]]]
                 [--fast [FAST]] [--component [CM [CM ...]]]
                 [--level [LL [LL ...]]] [--namespace [NS [NS ...]]]
                 [--operation [OP [OP ...]]] [--thread [THREAD [THREAD ...]]]
                 [--pattern PATTERN] [--command [COMMAND [COMMAND ...]]]
                 [--planSummary [PS [PS ...]]] [--mask MASK]
                 [--mask-size MASK_SIZE] [--mask-center {start,end,both}]
                 [--slow [SLOW]] [--scan] [--transactions]
                 [--word [WORD [WORD ...]]]
                 [logfile [logfile ...]]
nosetests: error: argument --level: invalid choice: 'C' (choose from 'D', 'F', 'E', 'W', 'I', 'U')
ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_log ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_timezone_args ... ok
test_journal_component ... ok
Output with --json is in JSON format. ... ok
Test that mlogfilter works levels on older logs. ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_both ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_end ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_start ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_invalid_markers ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_markers ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_same ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_msToString ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_multiple_operations ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_namespace ... ok
test_network_component ... ok
Test that not providing at least 1 log file throws clean error. ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_no_timestamp_format ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_operation ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_pattern ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_planSummary ... ok
test_query_component ... ok
test_replsets_component ... ok
test_s2_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_scan ... ok
test_sharding_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_shorten_50 ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_shorten_default ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_slow_fast ... ok
test_storage_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_conn1 ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_mongos ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_mongos_conn1 ... ok
test_total_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_verbose ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_word ... ok
test_writes_component ... ok
Test that mlogfilter works correctly with year-rollovers in logfiles ... ok
Test that mlogfilter works correctly with year-rollovers in logfiles ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_28 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_28_no_restart ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_30_ctime ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_30_ctime_queries ...                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_avoid_dict_sorting ...                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_basic ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connections_connstats_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connections_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_connid_not_digit ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_connid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_end_connid_not_digit ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_endconnid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_only_connection_accepted ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_only_connection_end ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_start_endconnid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_corrupt ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_cursors_output ...  [========================================] 101.1 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_distinct_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_multiple_files ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_queries_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_restarts_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsinfo ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_225 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_26 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_mongos ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_mongos_2 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_migration_from_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_migration_to_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_split_statistics_exist ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_error_messages_exists ...  [============================================] 108.9 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_jumbo_chunk_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_missing_information ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_csrs ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_mongos ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_shard ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_storagestats_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_transactions_output ...  [                                        ] 0.0 %  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_version_norestart ... ok
mtools.test.test_mplotqueries.TestMPlotQueries.test_checkpoints ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_dns ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_oplog ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_storagestats ... SKIP: Skipping interactive test
mtools.test.test_util_hci.test_dtb_within_boundaries_absolute ... ok
mtools.test.test_util_hci.test_dtb_from_before_start ... ok
mtools.test.test_util_hci.test_dtb_to_after_end ... ok
mtools.test.test_util_hci.test_dtb_both_outside_bounds ... ok
mtools.test.test_util_hci.test_dtb_keywords ... ok
mtools.test.test_util_hci.test_dtb_string2dt ... ok
mtools.test.test_util_log2code.test_log2code ... ok
Check that all four timestamp formats are correctly parsed. ... ok
mtools.test.test_util_logevent.test_logevent_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_actual_query_parsing ... ok
mtools.test.test_util_logevent.test_logevent_command_parsing ... ok
mtools.test.test_util_logevent.test_logevent_sort_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_actual_sort_parsing ... ok
mtools.test.test_util_logevent.test_logevent_profile_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_profile_sort_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_extract_new_and_old_numYields ... ok
mtools.test.test_util_logevent.test_logevent_parse_truncated_line ... ok
mtools.test.test_util_logevent.test_logevent_extract_planSummary ... ok
mtools.test.test_util_logevent.test_logevent_extract_actualPlanSummary ... ok
Check for correct value extraction of all fields. ... ok
Check that LogEvent correctly ignores non log lines ... ok
Check that LogEvent correctly ignores new oplog query for duration extraction ... ok
Check that all LogEvent variables are evaluated lazily. ... ok
mtools.test.test_util_logfile.TestUtilLogFile.test_hostname_port ... ok
LogFile: test len() and iteration over LogFile method. ... ok
LogFile: test datetime_format and year_rollover properties. ... ok
LogFile: test if replication info is detected (MongoDB 3.2+) ... ok
LogFile: test if shard chunk migration (from) is detected (MongoDB 3.6+) ... ok
LogFile: test if shard chunk migration (to) is detected (MongoDB 3.6+) ... ok
LogFile: test if sharded cluster CSRS is detected (MongoDB 3.6+) ... ok
LogFile: test if sharding info is detected (MongoDB 3.6+) ... ok
LogFile: test .start and .end property work correctly. ... ok
LogFile: test if the correct storage engine is detected. ... ok
mtools.test.test_util_logfile.TestUtilLogFile.test_timezone ... ok
Test stub. ... ok

Name                                               Stmts   Miss  Cover
----------------------------------------------------------------------
mtools/__init__.py                                     3      0   100%
mtools/mlaunch/__init__.py                             0      0   100%
mtools/mlaunch/mlaunch.py                           1100    619    44%
mtools/mlogfilter/__init__.py                          0      0   100%
mtools/mlogfilter/filters/__init__.py                  8      0   100%
mtools/mlogfilter/filters/base_filter.py              11      1    91%
mtools/mlogfilter/filters/datetime_filter.py          55      1    98%
mtools/mlogfilter/filters/fast_filter.py              14      1    93%
mtools/mlogfilter/filters/logline_filter.py           62      1    98%
mtools/mlogfilter/filters/mask_filter.py              68      4    94%
mtools/mlogfilter/filters/slow_filter.py              14      0   100%
mtools/mlogfilter/filters/tablescan_filter.py         15      0   100%
mtools/mlogfilter/filters/transaction_filter.py       14      5    64%
mtools/mlogfilter/filters/word_filter.py              15      0   100%
mtools/mlogfilter/mlogfilter.py                      178     19    89%
mtools/mloginfo/__init__.py                            0      0   100%
mtools/mloginfo/mloginfo.py                           63      9    86%
mtools/mloginfo/sections/__init__.py                  11      0   100%
mtools/mloginfo/sections/base_section.py               8      1    88%
mtools/mloginfo/sections/clients_section.py           49     33    33%
mtools/mloginfo/sections/connection_section.py       121      7    94%
mtools/mloginfo/sections/cursors_section.py           51      4    92%
mtools/mloginfo/sections/distinct_section.py          58      9    84%
mtools/mloginfo/sections/query_section.py             75      7    91%
mtools/mloginfo/sections/restart_section.py           22      5    77%
mtools/mloginfo/sections/rs_info_section.py           17      0   100%
mtools/mloginfo/sections/rs_state_section.py          24      0   100%
mtools/mloginfo/sections/sharding_section.py         201     33    84%
mtools/mloginfo/sections/storagestats_section.py      54      3    94%
mtools/mloginfo/sections/transactions_section.py      59      5    92%
mtools/mplotqueries/__init__.py                        0      0   100%
mtools/mplotqueries/mplotqueries.py                  411    336    18%
mtools/mplotqueries/plottypes/__init__.py              6      0   100%
mtools/mplotqueries/plottypes/base_type.py            76     50    34%
mtools/mplotqueries/plottypes/connchurn_type.py       86     67    22%
mtools/mplotqueries/plottypes/event_type.py           45     30    33%
mtools/mplotqueries/plottypes/histogram_type.py       85     67    21%
mtools/mplotqueries/plottypes/range_type.py           56     41    27%
mtools/mplotqueries/plottypes/scatter_type.py        132     95    28%
mtools/mtransfer/__init__.py                           0      0   100%
mtools/util/__init__.py                                5      2    60%
mtools/util/cmdlinetool.py                            99     36    64%
mtools/util/grouping.py                               79     44    44%
mtools/util/hci.py                                   110     16    85%
mtools/util/input_source.py                            6      2    67%
mtools/util/log2code.py                               74     39    47%
mtools/util/logcodeline.py                            16     11    31%
mtools/util/logevent.py                              718    119    83%
mtools/util/logfile.py                               506     51    90%
mtools/util/pattern.py                                87     36    59%
mtools/util/print_table.py                            24      4    83%
mtools/util/profile_collection.py                     82     60    27%
mtools/version.py                                      2      0   100%
----------------------------------------------------------------------
TOTAL                                               5075   1873    63%
----------------------------------------------------------------------
Ran 174 tests in 91.662s

OK (SKIP=12)
py39 installed: coverage==5.5,cycler==0.10.0,kiwisolver==1.3.1,matplotlib==3.4.1,nose==1.3.7,numpy==1.20.2,ordereddict==1.1,Pillow==8.2.0,psutil==5.6.7,pymongo==3.11.3,pyparsing==2.4.7,python-dateutil==2.8.1,six==1.15.0
py39 run-test-pre: PYTHONHASHSEED='3053065810'
py39 run-test: commands[0] | nosetests --detailed-errors --verbose --with-coverage --cover-package=mtools
Check that all command line tools have a --help option that explains the ... ok
Check that all command line tools have a --version option that returns ... usage: nosetests init [-h] (--single | --replicaset) [--nodes NUM] [--arbiter]
                      [--name NAME] [--priority] [--sharded N [N ...]]
                      [--config NUM] [--csrs] [--mongos NUM] [--verbose]
                      [--port PORT] [--binarypath PATH] [--dir DIR]
                      [--hostname HOSTNAME] [--auth] [--username USERNAME]
                      [--password PASSWORD] [--auth-db DB]
                      [--auth-roles [ROLE ...]] [--auth-role-docs]
                      [--no-initial-user] [--tlsCAFile TLSCAFILE]
                      [--tlsCRLFile TLSCRLFILE] [--tlsAllowInvalidHostnames]
                      [--tlsAllowInvalidCertificates]
                      [--tlsMode {disabled,allowTLS,preferTLS,requireTLS}]
                      [--tlsCertificateKeyFile TLSCERTIFICATEKEYFILE]
                      [--tlsCertificateKeyFilePassword TLSCERTIFICATEKEYFILEPASSWORD]
                      [--tlsClusterFile TLSCLUSTERFILE]
                      [--tlsClusterPassword TLSCLUSTERPASSWORD]
                      [--tlsDisabledProtocols TLSDISABLEDPROTOCOLS]
                      [--tlsAllowConnectionsWithoutCertificates]
                      [--tlsFIPSMode]
                      [--tlsClientCertificate TLSCLIENTCERTIFICATE]
                      [--tlsClientCertificateKeyFile TLSCLIENTCERTIFICATEKEYFILE]
                      [--tlsClientCertificateKeyFilePassword TLSCLIENTCERTIFICATEKEYFILEPASSWORD]
nosetests init: error: one of the arguments --single --replicaset is required
ok
Import all tools from mtools module. ... ok
Failure: SkipTest () ... SKIP
mlaunch should create csrs by default -- 2 node replicaset shards + ... ok
mlaunch should create csrs by default -- 7 node replicaset ... ok
mlaunch should create csrs by default -- 7 node replicaset shards, ... ok
mlaunch should create csrs by default -- replicaset shards (3.4). ... ok
mlaunch should create csrs by default -- single node shards (3.4). ... ok
mlaunch should not start if hostname is specified but not bind_ip. ... ok
mlaunch should start 3 nodes replicaset. ... ok
mlaunch should start 6 nodes + 1 arbiter replicaset. ... ok
mlaunch should start 7 nodes replicaset. ... ok
mlaunch should not pass --oplogSize to config server (CSRS). ... ok
mlaunch should not pass --oplogSize to config server (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 2 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 3 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should start 4 replicaset config, 2 shards (3 nodes each), ... ok
mlaunch should not change config server storage engine (CSRS). ... ok
mlaunch should start 1 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 3 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 3 config, 2 shards (3 nodes each), 1 mongos ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 config, 2 single shards 1 mongos. ... ok
mlaunch should start 3 mongos (CSRS). ... ok
mlaunch should start 3 mongos (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 2 mongos (CSRS). ... ok
mlaunch should start 2 mongos (SCCC). ... SKIP: SCCC not supported by MongoDB >= 3.3.0
mlaunch should start 1 node. ... ok
mlaunch should start 1 node with specified storage. ... ok
mlaunch should not pass storageEngine option to config server (3.4). ... ok
test_D_levels ... ok
test_E_levels ... ok
test_F_levels ... ok
test_I_levels ... ok
test_U_levels ... ok
test_W_levels ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_accept_nodate ... ok
test_access_component ... ok
test_all_component ... ok
test_all_levels ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_command ... ok
test_commands_component ... ok
Test that mlogfilter works components on older logs. ... ok
test_dash_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_end_reached ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_exclude ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_iso8601_timestamp ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to_26_log ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_from_to_stdin ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_human ... ok
test_indexing_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_component ... usage: nosetests [-h] [--version] [--no-progressbar] [--verbose]
                 [--shorten [LENGTH]] [--exclude] [--human] [--json]
                 [--markers [MARKERS ...]] [--timezone [N ...]]
                 [--timestamp-format {none,ctime-pre2.4,ctime,iso8601-utc,iso8601-local}]
                 [--from [FROM ...]] [--to [TO ...]] [--fast [FAST]]
                 [--component [CM ...]] [--level [LL ...]]
                 [--namespace [NS ...]] [--operation [OP ...]]
                 [--thread [THREAD ...]] [--pattern PATTERN]
                 [--command [COMMAND ...]] [--planSummary [PS ...]]
                 [--mask MASK] [--mask-size MASK_SIZE]
                 [--mask-center {start,end,both}] [--slow [SLOW]] [--scan]
                 [--transactions] [--word [WORD ...]]
                 [logfile ...]
nosetests: error: argument --component: invalid choice: 'FAKE' (choose from '-', 'ACCESS', 'COMMAND', 'CONTROL', 'GEO', 'INDEX', 'NETWORK', 'QUERY', 'REPL', 'SHARDING', 'STORAGE', 'JOURNAL', 'WRITE', 'TOTAL')
ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_level ... usage: nosetests [-h] [--version] [--no-progressbar] [--verbose]
                 [--shorten [LENGTH]] [--exclude] [--human] [--json]
                 [--markers [MARKERS ...]] [--timezone [N ...]]
                 [--timestamp-format {none,ctime-pre2.4,ctime,iso8601-utc,iso8601-local}]
                 [--from [FROM ...]] [--to [TO ...]] [--fast [FAST]]
                 [--component [CM ...]] [--level [LL ...]]
                 [--namespace [NS ...]] [--operation [OP ...]]
                 [--thread [THREAD ...]] [--pattern PATTERN]
                 [--command [COMMAND ...]] [--planSummary [PS ...]]
                 [--mask MASK] [--mask-size MASK_SIZE]
                 [--mask-center {start,end,both}] [--slow [SLOW]] [--scan]
                 [--transactions] [--word [WORD ...]]
                 [logfile ...]
nosetests: error: argument --level: invalid choice: 'C' (choose from 'D', 'F', 'E', 'W', 'I', 'U')
ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_log ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_invalid_timezone_args ... ok
test_journal_component ... ok
Output with --json is in JSON format. ... ok
Test that mlogfilter works levels on older logs. ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_both ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_end ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_mask_start ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_invalid_markers ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_markers ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_merge_same ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_msToString ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_multiple_operations ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_namespace ... ok
test_network_component ... ok
Test that not providing at least 1 log file throws clean error. ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_no_timestamp_format ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_operation ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_pattern ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_planSummary ... ok
test_query_component ... ok
test_replsets_component ... ok
test_s2_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_scan ... ok
test_sharding_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_shorten_50 ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_shorten_default ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_slow_fast ... ok
test_storage_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_conn1 ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_mongos ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_thread_mongos_conn1 ... ok
test_total_component ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_verbose ... ok
mtools.test.test_mlogfilter.TestMLogFilter.test_word ... ok
test_writes_component ... ok
Test that mlogfilter works correctly with year-rollovers in logfiles ... ok
Test that mlogfilter works correctly with year-rollovers in logfiles ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_28 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_28_no_restart ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_30_ctime ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_30_ctime_queries ...                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_avoid_dict_sorting ...                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_basic ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connections_connstats_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connections_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_connid_not_digit ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_connid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_end_connid_not_digit ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_endconnid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_only_connection_accepted ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_only_connection_end ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_connstats_start_endconnid_repeated ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_corrupt ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_cursors_output ...  [========================================] 101.1 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_distinct_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_multiple_files ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_queries_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_restarts_output ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsinfo ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_225 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_26 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_mongos ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_rsstate_mongos_2 ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_migration_from_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_migration_to_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_chunk_split_statistics_exist ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_error_messages_exists ...  [============================================] 108.9 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_jumbo_chunk_exists ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_missing_information ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_csrs ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_mongos ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_sharding_overview_shard ... ok
mtools.test.test_mloginfo.TestMLogInfo.test_storagestats_output ...  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_transactions_output ...  [                                        ] 0.0 %  [                                        ] 0.0 %                                                                                           
ok
mtools.test.test_mloginfo.TestMLogInfo.test_version_norestart ... ok
mtools.test.test_mplotqueries.TestMPlotQueries.test_checkpoints ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_dns ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_oplog ... SKIP: Skipping interactive test
mtools.test.test_mplotqueries.TestMPlotQueries.test_storagestats ... SKIP: Skipping interactive test
mtools.test.test_util_hci.test_dtb_within_boundaries_absolute ... ok
mtools.test.test_util_hci.test_dtb_from_before_start ... ok
mtools.test.test_util_hci.test_dtb_to_after_end ... ok
mtools.test.test_util_hci.test_dtb_both_outside_bounds ... ok
mtools.test.test_util_hci.test_dtb_keywords ... ok
mtools.test.test_util_hci.test_dtb_string2dt ... ok
mtools.test.test_util_log2code.test_log2code ... ok
Check that all four timestamp formats are correctly parsed. ... ok
mtools.test.test_util_logevent.test_logevent_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_actual_query_parsing ... ok
mtools.test.test_util_logevent.test_logevent_command_parsing ... ok
mtools.test.test_util_logevent.test_logevent_sort_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_actual_sort_parsing ... ok
mtools.test.test_util_logevent.test_logevent_profile_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_profile_sort_pattern_parsing ... ok
mtools.test.test_util_logevent.test_logevent_extract_new_and_old_numYields ... ok
mtools.test.test_util_logevent.test_logevent_parse_truncated_line ... ok
mtools.test.test_util_logevent.test_logevent_extract_planSummary ... ok
mtools.test.test_util_logevent.test_logevent_extract_actualPlanSummary ... ok
Check for correct value extraction of all fields. ... ok
Check that LogEvent correctly ignores non log lines ... ok
Check that LogEvent correctly ignores new oplog query for duration extraction ... ok
Check that all LogEvent variables are evaluated lazily. ... ok
mtools.test.test_util_logfile.TestUtilLogFile.test_hostname_port ... ok
LogFile: test len() and iteration over LogFile method. ... ok
LogFile: test datetime_format and year_rollover properties. ... ok
LogFile: test if replication info is detected (MongoDB 3.2+) ... ok
LogFile: test if shard chunk migration (from) is detected (MongoDB 3.6+) ... ok
LogFile: test if shard chunk migration (to) is detected (MongoDB 3.6+) ... ok
LogFile: test if sharded cluster CSRS is detected (MongoDB 3.6+) ... ok
LogFile: test if sharding info is detected (MongoDB 3.6+) ... ok
LogFile: test .start and .end property work correctly. ... ok
LogFile: test if the correct storage engine is detected. ... ok
mtools.test.test_util_logfile.TestUtilLogFile.test_timezone ... ok
Test stub. ... ok

Name                                               Stmts   Miss  Cover
----------------------------------------------------------------------
mtools/__init__.py                                     3      0   100%
mtools/mlaunch/__init__.py                             0      0   100%
mtools/mlaunch/mlaunch.py                           1100    619    44%
mtools/mlogfilter/__init__.py                          0      0   100%
mtools/mlogfilter/filters/__init__.py                  8      0   100%
mtools/mlogfilter/filters/base_filter.py              11      1    91%
mtools/mlogfilter/filters/datetime_filter.py          55      1    98%
mtools/mlogfilter/filters/fast_filter.py              14      1    93%
mtools/mlogfilter/filters/logline_filter.py           62      1    98%
mtools/mlogfilter/filters/mask_filter.py              68      4    94%
mtools/mlogfilter/filters/slow_filter.py              14      0   100%
mtools/mlogfilter/filters/tablescan_filter.py         15      0   100%
mtools/mlogfilter/filters/transaction_filter.py       14      5    64%
mtools/mlogfilter/filters/word_filter.py              15      0   100%
mtools/mlogfilter/mlogfilter.py                      178     19    89%
mtools/mloginfo/__init__.py                            0      0   100%
mtools/mloginfo/mloginfo.py                           63      9    86%
mtools/mloginfo/sections/__init__.py                  11      0   100%
mtools/mloginfo/sections/base_section.py               8      1    88%
mtools/mloginfo/sections/clients_section.py           49     33    33%
mtools/mloginfo/sections/connection_section.py       121      7    94%
mtools/mloginfo/sections/cursors_section.py           51      4    92%
mtools/mloginfo/sections/distinct_section.py          58      9    84%
mtools/mloginfo/sections/query_section.py             75      7    91%
mtools/mloginfo/sections/restart_section.py           22      5    77%
mtools/mloginfo/sections/rs_info_section.py           17      0   100%
mtools/mloginfo/sections/rs_state_section.py          24      0   100%
mtools/mloginfo/sections/sharding_section.py         201     33    84%
mtools/mloginfo/sections/storagestats_section.py      54      3    94%
mtools/mloginfo/sections/transactions_section.py      59      5    92%
mtools/mplotqueries/__init__.py                        0      0   100%
mtools/mplotqueries/mplotqueries.py                  411    336    18%
mtools/mplotqueries/plottypes/__init__.py              6      0   100%
mtools/mplotqueries/plottypes/base_type.py            76     50    34%
mtools/mplotqueries/plottypes/connchurn_type.py       86     67    22%
mtools/mplotqueries/plottypes/event_type.py           45     30    33%
mtools/mplotqueries/plottypes/histogram_type.py       85     67    21%
mtools/mplotqueries/plottypes/range_type.py           56     41    27%
mtools/mplotqueries/plottypes/scatter_type.py        132     95    28%
mtools/mtransfer/__init__.py                           0      0   100%
mtools/util/__init__.py                                5      2    60%
mtools/util/cmdlinetool.py                            99     36    64%
mtools/util/grouping.py                               79     44    44%
mtools/util/hci.py                                   110     16    85%
mtools/util/input_source.py                            6      2    67%
mtools/util/log2code.py                               74     39    47%
mtools/util/logcodeline.py                            16     11    31%
mtools/util/logevent.py                              718    119    83%
mtools/util/logfile.py                               506     51    90%
mtools/util/pattern.py                                87     36    59%
mtools/util/print_table.py                            24      4    83%
mtools/util/profile_collection.py                     82     60    27%
mtools/version.py                                      2      0   100%
----------------------------------------------------------------------
TOTAL                                               5075   1873    63%
----------------------------------------------------------------------
Ran 174 tests in 91.544s

OK (SKIP=12)
___________________________________ summary ____________________________________
  py36: commands succeeded
  py37: commands succeeded
  py38: commands succeeded
  py39: commands succeeded
  congratulations :)
